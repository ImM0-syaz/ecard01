<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kad Kahwin Digital - Adam & Hawa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Alex+Brush&family=Noto+Serif+Malayalam&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: url('img/background.gif') no-repeat center center fixed;
            background-size: cover;
            overflow-x: hidden;
        }
        
        .bg-overlay {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><pattern id="floral" patternUnits="userSpaceOnUse" width="100" height="100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/><path d="M30,30 Q50,10 70,30 Q50,50 30,30" fill="rgba(255,255,255,0.05)"/></pattern></defs><rect width="100%" height="100%" fill="url(%23floral)"/></svg>') center/cover;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .curved-navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            z-index: 1000;

            /* Kurangkan tinggi */
            padding: 10px 0; /* sebelum ni 20px 0 */
        }
        
        .nav-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 10px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .nav-icon.call { background: linear-gradient(45deg, #e0e0e0, #d0d0d0); }
        .nav-icon.whatsapp { background: linear-gradient(45deg, #e0e0e0, #d0d0d0); }
        .nav-icon.camera { background: linear-gradient(45deg, #e0e0e0, #d0d0d0); }
        
        .nav-icon:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }
        
        .nav-icon i {
            color: #666;
            font-size: 20px;
        }
        
        .section {
            min-height: 100vh;
            padding: 50px 0 100px;
            position: relative;
        }
        
        .hero-section {
            background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3));
            color: white;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            min-height: 100vh;
            padding: 60px 20px;
        }
        
        .hero-title {
            font-family: 'Great Vibes', cursive;
            font-size: 4.5rem;
            font-weight: 400;
            margin-bottom: 20px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.4);
            letter-spacing: 1px;
        }
                
        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .countdown-container {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .countdown-item {
            text-align: center;
            margin: 0 15px;
        }
        
        .countdown-number {
            font-size: 3rem;
            font-weight: bold;
            display: block;
            color: #FFD700;
        }
        
        .countdown-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .smoke {
            position: absolute;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
            border-radius: 50%;
            animation: smoke 4s infinite ease-in-out;
        }
        
        @keyframes smoke {
            0% { transform: translateY(0) scale(0.5); opacity: 0.7; }
            50% { transform: translateY(-50px) scale(1); opacity: 0.3; }
            100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
        }

        @media (max-width: 768px) {
          .smoke {
            display: none;
          }
        }
        
        .card-custom {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .section-title {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            color: #333;
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }
        
        .section-title::after {
            content: none;
        }
        
        .btn-custom {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            border-radius: 25px;
            padding: 12px 30px;
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
            color: white;
        }
        
        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.3s ease;
            aspect-ratio: 4 / 3;
            width: 100%;
        }
        
        .gallery-item:hover {
            transform: scale(1.05);
        }
        
        .gallery-placeholder {
            color: #999;
            font-size: 1.2rem;
        }
        
        .form-control {
            border-radius: 15px;
            border: 2px solid #e0e0e0;
            padding: 12px 20px;
            transition: all 0.3s ease;
        }
        
        .form-control:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
        }
        
        .gift-account {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #333;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            position: relative;
        }
        
        .copy-btn {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.3);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .copy-btn:hover {
            background: rgba(255,255,255,0.5);
        }
        
        .message-item {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(5px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }
        
        #camera-preview {
            width: 100%;
            max-width: 400px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .hero-title { font-size: 2.5rem; }
            .section-title { font-size: 2rem; }
            .countdown-number { font-size: 2rem; }
            .nav-icon { width: 40px; height: 40px; margin: 0 5px; }
            .nav-icon i { font-size: 16px; }
        }
    </style>
</head>
<body>
    <div class="bg-overlay"></div>

    <audio id="bg-music" autoplay loop>
  <source src="audio/lagu.mp3" type="audio/mpeg">
</audio>
    
    <!-- Curved Navbar -->
    <nav class="curved-navbar">
        <div class="container">
            <div class="d-flex justify-content-center align-items-center">
                <div class="nav-icon call" onclick="makeCall()">
                    <i class="fas fa-phone"></i>
                </div>
                <div class="nav-icon whatsapp" onclick="openWhatsApp()">
                    <i class="fab fa-whatsapp"></i>
                </div>
                <div class="nav-icon camera" onclick="openCamera()">
                    <i class="fas fa-camera"></i>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="section hero-section">
        <div class="smoke" style="top: 20%; left: 10%; animation-delay: 0s;"></div>
        <div class="smoke" style="top: 60%; right: 15%; animation-delay: 1s;"></div>
        <div class="smoke" style="top: 40%; left: 80%; animation-delay: 2s;"></div>
        
        <div class="container text-center">
            <h1 class="hero-title">Raikan Cinta</h1>
            <h2 class="hero-subtitle">Adam & Hawa</h2>
            <p class="lead">Majlis akan berlangsung pada</p>
            <h3 style="font-size: 2rem; color: #FFD700; margin: 20px 0;">1 Jun 2026</h3>
            
            <div class="countdown-container">
                <div class="row justify-content-center">
                    <div class="col-3 col-md-2">
                        <div class="countdown-item">
                            <span class="countdown-number" id="days">00</span>
                            <span class="countdown-label">Hari</span>
                        </div>
                    </div>
                    <div class="col-3 col-md-2">
                        <div class="countdown-item">
                            <span class="countdown-number" id="hours">00</span>
                            <span class="countdown-label">Jam</span>
                        </div>
                    </div>
                    <div class="col-3 col-md-2">
                        <div class="countdown-item">
                            <span class="countdown-number" id="minutes">00</span>
                            <span class="countdown-label">Minit</span>
                        </div>
                    </div>
                    <div class="col-3 col-md-2">
                        <div class="countdown-item">
                            <span class="countdown-number" id="seconds">00</span>
                            <span class="countdown-label">Saat</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Event Details Section -->
    <section class="section" style="background: rgba(255,255,255,0.1);">
        <div class="container">
            <h2 class="section-title">Butiran Majlis</h2>
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card-custom p-4">
                        <!-- Akad Nikah -->
                        <div class="text-center mb-5">
                            <h4 style="color: #667eea; margin-bottom: 30px;">Akad Nikah</h4>
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <i class="fas fa-calendar-alt" style="font-size: 2rem; color: #667eea; margin-bottom: 10px;"></i>
                                    <h6>Tarikh</h6>
                                    <p>1 Jun 2026<br>Ahad</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <i class="fas fa-clock" style="font-size: 2rem; color: #667eea; margin-bottom: 10px;"></i>
                                    <h6>Masa</h6>
                                    <p>9:00 AM<br>10:30 AM</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <i class="fas fa-mosque" style="font-size: 2rem; color: #667eea; margin-bottom: 10px;"></i>
                                    <h6>Tempat</h6>
                                    <p>Masjid Al-Hidayah<br>Taman Melati</p>
                                </div>
                            </div>
                            <button class="btn btn-custom mt-3" onclick="saveAkadToCalendar()">
                                <i class="fas fa-calendar-plus me-2"></i>Simpan Akad ke Kalendar
                            </button>
                        </div>

                        <hr style="border: 2px solid #667eea; border-radius: 2px; margin: 40px 0;">

                        <!-- Majlis Perkahwinan -->
                        <div class="text-center">
                            <h4 style="color: #667eea; margin-bottom: 30px;">Majlis Perkahwinan</h4>
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <i class="fas fa-calendar-alt" style="font-size: 2rem; color: #667eea; margin-bottom: 10px;"></i>
                                    <h6>Tarikh</h6>
                                    <p>1 Jun 2026<br>Ahad</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <i class="fas fa-clock" style="font-size: 2rem; color: #667eea; margin-bottom: 10px;"></i>
                                    <h6>Masa</h6>
                                    <p>11:00 AM<br>3:00 PM</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <i class="fas fa-map-marker-alt" style="font-size: 2rem; color: #667eea; margin-bottom: 10px;"></i>
                                    <h6>Tempat</h6>
                                    <p>Dewan Serbaguna<br>Taman Melati</p>
                                </div>
                            </div>
                            <button class="btn btn-custom mt-3" onclick="saveWeddingToCalendar()">
                                <i class="fas fa-calendar-plus me-2"></i>Simpan Majlis ke Kalendar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Location Section -->
    <section class="section">
        <div class="container">
            <h2 class="section-title">Lokasi</h2>
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card-custom p-4">
                        <div class="text-center">
                            <h5 style="color: #333; margin-bottom: 20px;">Dewan Serbaguna Taman Melati</h5>
                            <p class="text-muted">Jalan Melati 1, Taman Melati, 53100 Kuala Lumpur</p>
                            <div class="row mt-4">
                                <div class="col-md-6 mb-3">
                                    <a href="https://waze.com/ul?q=Dewan%20Serbaguna%20Taman%20Melati" target="_blank" class="btn btn-custom w-100">
                                        <i class="fas fa-route me-2"></i>Buka Waze
                                    </a>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <a href="https://maps.google.com/?q=Dewan%20Serbaguna%20Taman%20Melati" target="_blank" class="btn btn-custom w-100">
                                        <i class="fas fa-map me-2"></i>Google Maps
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section class="section" style="background: rgba(255,255,255,0.1);">
        <div class="container">
            <h2 class="section-title">Galeri</h2>
            <div class="row" id="gallery">
                <div class="col-md-4">
                    <div class="gallery-item" onclick="addToGallery(this)">
                        <div class="gallery-placeholder">
                            <i class="fas fa-plus" style="font-size: 3rem;"></i>
                            <p>Tambah Gambar</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="gallery-item">
                        <div class="gallery-placeholder">
                            <i class="fas fa-heart" style="font-size: 3rem; color: #FF6B6B;"></i>
                            <p>Kenangan Indah</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="gallery-item">
                        <div class="gallery-placeholder">
                            <i class="fas fa-camera" style="font-size: 3rem; color: #667eea;"></i>
                            <p>Detik Bahagia</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gift Section -->
    <section class="section">
        <div class="container">
            <h2 class="section-title">Hadiah</h2>
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card-custom p-4">
                        <div class="text-center">
                            <i class="fas fa-gift" style="font-size: 3rem; color: #667eea; margin-bottom: 20px;"></i>
                            <h5>Sumbangan Wang</h5>
                            <p class="text-muted">Sekiranya ingin memberikan sumbangan, boleh transfer ke akaun berikut:</p>
                            
                            <div class="gift-account">
                                <h6>Bank Islam</h6>
                                <h4 id="account-number">1234567890123456</h4>
                                <p>Adam Bin Ahmad</p>
                                <button class="copy-btn" onclick="copyAccount()">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                            
                            <small class="text-muted">Klik untuk salin nombor akaun</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- RSVP Section -->
    <section class="section" style="background: rgba(255,255,255,0.1);">
        <div class="container">
            <h2 class="section-title">RSVP</h2>
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card-custom p-4">
                        <form id="rsvpForm">
                            <div class="mb-3">
                                <label class="form-label">Nama</label>
                                <input type="text" class="form-control" id="guestName" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Bilangan Kehadiran</label>
                                <select class="form-control" id="guestCount" required>
                                    <option value="">Pilih bilangan</option>
                                    <option value="1">1 orang</option>
                                    <option value="2">2 orang</option>
                                    <option value="3">3 orang</option>
                                    <option value="4">4 orang</option>
                                    <option value="5">5 orang atau lebih</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Status Kehadiran</label>
                                <select class="form-control" id="attendanceStatus" required>
                                    <option value="">Pilih status</option>
                                    <option value="Hadir">Hadir</option>
                                    <option value="Tidak Hadir">Tidak Hadir</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-custom w-100">
                                <i class="fas fa-paper-plane me-2"></i>Hantar RSVP
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Messages Section -->
    <section class="section">
        <div class="container">
            <h2 class="section-title">Ucapan</h2>
            <div class="row">
                <div class="col-md-6">
                    <div class="card-custom p-4">
                        <h5 class="mb-3">Tinggalkan Ucapan</h5>
                        <form id="messageForm">
                            <div class="mb-3">
                                <input type="text" class="form-control" id="messageName" placeholder="Nama anda" required>
                            </div>
                            <div class="mb-3">
                                <textarea class="form-control" id="messageText" rows="4" placeholder="Ucapan untuk pengantin..." required></textarea>
                            </div>
                            <button type="submit" class="btn btn-custom">
                                <i class="fas fa-heart me-2"></i>Hantar Ucapan
                            </button>
                        </form>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card-custom p-4">
                        <h5 class="mb-3">Ucapan dari Tetamu</h5>
                        <div id="messagesList" style="max-height: 400px; overflow-y: auto;">
                            <div class="message-item">
                                <strong>Siti Aminah</strong>
                                <p class="mb-1">Tahniah kepada Adam & Hawa! Semoga bahagia hingga ke anak cucu.</p>
                                <small class="text-muted">2 jam yang lalu</small>
                            </div>
                            <div class="message-item">
                                <strong>Ahmad Rahman</strong>
                                <p class="mb-1">Selamat pengantin baru! Semoga berkekalan hingga ke syurga.</p>
                                <small class="text-muted">5 jam yang lalu</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Closing Section -->
    <section class="section hero-section">
        <div class="container text-center">
            <h2 class="hero-title" style="font-size: 3rem;">Terima Kasih</h2>
            <p class="lead">Kehadiran dan doa restu anda amat bermakna bagi kami</p>
            <div style="margin: 40px 0;">
                <i class="fas fa-heart" style="font-size: 3rem; color: #FF6B6B; animation: pulse 2s infinite;"></i>
            </div>
            <p>Adam & Hawa</p>
            <p class="text-muted">Dengan penuh kasih sayang</p>
        </div>
    </section>

    <!-- Camera Modal -->
    <div class="modal fade" id="cameraModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Ambil Gambar</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body text-center">
                    <video id="camera-preview" autoplay playsinline class="hidden"></video>
                    <canvas id="photo-canvas" class="hidden"></canvas>
                    <div id="photo-result"></div>
                    <div class="mt-3">
                        <button id="start-camera" class="btn btn-custom me-2">
                            <i class="fas fa-video me-2"></i>Buka Kamera
                        </button>
                        <button id="take-photo" class="btn btn-custom me-2 hidden">
                            <i class="fas fa-camera me-2"></i>Ambil Gambar
                        </button>
                        <button id="save-photo" class="btn btn-success hidden">
                            <i class="fas fa-save me-2"></i>Simpan ke Galeri
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button onclick="document.getElementById('bg-music').play()" class="btn btn-custom" style="position: fixed; top: 20px; right: 20px; z-index: 9999;">
  <i class="fas fa-music me-1"></i> Main Lagu
</button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Countdown Timer
       function updateCountdown() {
        const weddingDate = new Date("2026-06-01T11:00:00").getTime();
        const now = new Date().getTime();
        const distance = weddingDate - now;

        if (distance < 0) {
            document.getElementById("days").textContent = "00";
            document.getElementById("hours").textContent = "00";
            document.getElementById("minutes").textContent = "00";
            document.getElementById("seconds").textContent = "00";
            return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById("days").textContent = days.toString().padStart(2, '0');
        document.getElementById("hours").textContent = hours.toString().padStart(2, '0');
        document.getElementById("minutes").textContent = minutes.toString().padStart(2, '0');
        document.getElementById("seconds").textContent = seconds.toString().padStart(2, '0');
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

        // Navigation Functions
        function makeCall() {
            window.open('tel:+60123456789', '_self');
        }

        function openWhatsApp() {
            window.open('https://wa.me/60123456789?text=Assalamualaikum, saya ingin bertanya tentang majlis perkahwinan Adam dan Hawa', '_blank');
        }

        function openCamera() {
            const modal = new bootstrap.Modal(document.getElementById('cameraModal'));
            modal.show();
        }
        

        // Camera Functions
        let stream = null;
        let photoData = null;

        document.getElementById('start-camera').addEventListener('click', async function() {
            try {
                stream = await navigator.mediaDevices.getUserMedia({ video: true });
                const video = document.getElementById('camera-preview');
                video.srcObject = stream;
                video.classList.remove('hidden');
                document.getElementById('start-camera').classList.add('hidden');
                document.getElementById('take-photo').classList.remove('hidden');
            } catch (err) {
                alert('Tidak dapat mengakses kamera. Sila pastikan anda memberikan kebenaran.');
            }
        });

        document.getElementById('take-photo').addEventListener('click', function() {
            const video = document.getElementById('camera-preview');
            const canvas = document.getElementById('photo-canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            ctx.drawImage(video, 0, 0);
            
            photoData = canvas.toDataURL('image/jpeg');
            
            document.getElementById('photo-result').innerHTML = `<img src="${photoData}" style="max-width: 100%; border-radius: 10px;">`;
            document.getElementById('save-photo').classList.remove('hidden');
            document.getElementById('take-photo').classList.add('hidden');
            
            // Stop camera
            if (stream) {
                stream.getTracks().forEach(track => track.stop());
            }
            video.classList.add('hidden');
        });

        document.getElementById('save-photo').addEventListener('click', function() {
            if (photoData) {
                // Create download link
                const link = document.createElement('a');
                link.download = `wedding-photo-${Date.now()}.jpg`;
                link.href = photoData;
                link.click();
                
                // Add to gallery
                const gallery = document.getElementById('gallery');
                const newItem = document.createElement('div');
                newItem.className = 'col-md-4';
                newItem.innerHTML = `
                    <div class="gallery-item">
                        <img src="${photoData}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 15px;">
                    </div>
                `;
                gallery.appendChild(newItem);
                
                // Close modal
                bootstrap.Modal.getInstance(document.getElementById('cameraModal')).hide();
                
                alert('Gambar berjaya disimpan ke galeri!');
            }
        });

        // Calendar Functions
        function saveAkadToCalendar() {
            const startDate = '20260601T090000Z';
            const endDate = '20260601T103000Z';
            const title = 'Akad Nikah Adam & Hawa';
            const details = 'Akad Nikah Adam & Hawa di Masjid Al-Hidayah Taman Melati';
            const location = 'Masjid Al-Hidayah Taman Melati, Jalan Melati 2, Taman Melati, 53100 Kuala Lumpur';
            
            const googleCalendarUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(title)}&dates=${startDate}/${endDate}&details=${encodeURIComponent(details)}&location=${encodeURIComponent(location)}`;
            
            window.open(googleCalendarUrl, '_blank');
        }

        function saveWeddingToCalendar() {
            const startDate = '20260601T110000Z';
            const endDate = '20260601T150000Z';
            const title = 'Majlis Perkahwinan Adam & Hawa';
            const details = 'Majlis Perkahwinan Adam & Hawa di Dewan Serbaguna Taman Melati';
            const location = 'Dewan Serbaguna Taman Melati, Jalan Melati 1, Taman Melati, 53100 Kuala Lumpur';
            
            const googleCalendarUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(title)}&dates=${startDate}/${endDate}&details=${encodeURIComponent(details)}&location=${encodeURIComponent(location)}`;
            
            window.open(googleCalendarUrl, '_blank');
        }

        // Copy Account Number
        function copyAccount() {
            const accountNumber = document.getElementById('account-number').textContent;
            navigator.clipboard.writeText(accountNumber).then(function() {
                alert('Nombor akaun telah disalin!');
            });
        }

        // RSVP Form
            document.getElementById('rsvpForm').addEventListener('submit', function(e) {
        e.preventDefault();

        const name = document.getElementById('guestName').value;
        const count = document.getElementById('guestCount').value;
        const status = document.getElementById('attendanceStatus').value;

        const scriptUrl = 'https://script.google.com/macros/s/AKfycbxQ8N8IVi-3d8OBIa6YD02D7E6TA5T70aZ7uVjb1C_CtV_PvcTffOwwgYxvbLbxuLNULw/exec';

        const formData = new FormData();
        formData.append('name', name);
        formData.append('count', count);
        formData.append('status', status);

        fetch(scriptUrl, { method: 'POST', body: formData })
            .then(response => response.text())
            .then(data => {
                alert('Terima kasih! RSVP anda telah berjaya dihantar.');
                document.getElementById('rsvpForm').reset();
            })
            .catch(error => {
                alert('Maaf, terdapat masalah. Sila cuba lagi.');
                console.error('RSVP Error:', error);
            });
    });

        // Messages Form
        document.getElementById('messageForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('messageName').value;
            const message = document.getElementById('messageText').value;
            
            // Add message to list
            const messagesList = document.getElementById('messagesList');
            const newMessage = document.createElement('div');
            newMessage.className = 'message-item';
            newMessage.innerHTML = `
                <strong>${name}</strong>
                <p class="mb-1">${message}</p>
                <small class="text-muted">Baru sahaja</small>
            `;
            messagesList.insertBefore(newMessage, messagesList.firstChild);
            
            alert('Terima kasih atas ucapan anda!');
            this.reset();
        });

        // Gallery Function
        function addToGallery(element) {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        element.innerHTML = `<img src="${e.target.result}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 15px;">`;
                    };
                    reader.readAsDataURL(file);
                }
            };
            input.click();
        }

        // Pulse animation for heart
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.1); }
                100% { transform: scale(1); }
            }
        `;
        document.head.appendChild(style);

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
   // Smooth scrolling for navigation
   document.querySelectorAll('a[href^="#"]').forEach(anchor => {
       anchor.addEventListener('click', function (e) {
           e.preventDefault();
           const target = document.querySelector(this.getAttribute('href'));
           if (target) {
               target.scrollIntoView({
                   behavior: 'smooth',
                   block: 'start'
               });
           }
       });
   });

   // Betulkan autoplay music
   window.addEventListener("load", () => {
       const music = document.getElementById("bg-music");
       music.muted = true;
       music.play().then(() => {
           setTimeout(() => {
               music.muted = false;
           }, 1000);
       }).catch(() => {
           // Kalau autoplay disekat, main semula bila user klik mana-mana
           document.addEventListener("click", () => {
               music.play();
               setTimeout(() => {
                   music.muted = false;
               }, 1000);
           }, { once: true });
       });
   });

</script>
</body>
</html>
